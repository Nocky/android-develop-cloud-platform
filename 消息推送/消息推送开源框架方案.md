关于消息推送开源框架方案实现，目前现有的方案有：


>[androidpn](https://github.com/dannytiehui/androidpn) 是一个基于 XMPP 开源组件的整合方案 ．该方案服务器端基于 Openfire，客户端基于 Smack ，这二个是 XMPP 开源组件里最常见的两个。androidpn使用Spring框架做了个Web层，把XMPP IM组件集成起来，以实现Android Push功能。

关于这个开源方案有以下亮点需要考虑：

1. 该方案依赖的XMPP IM协议与通讯机制，是否适合用于Android Push场景。
2. 该方案是否为Android Push需求做了必要的定制。

第一个方面：

XMPP协议与开源组件。XMPP是个成熟的IM（即时通讯）协议，基于XML文本方式实现，灵活强大。国外大多数聊天服务都
是基于XMPP的，比如：Gtalk，FacebookChat，iMessage等。正因为如此，所以XMPP的一些开源组件可用性还不错，国内很多新兴的聊
天工具刚开始完全基于XMPP开源组件来开发，比如米聊。但是，以笔者曾经实现过移动聊天App的类似经历来说，XMPP开源组件有其问
题，需要大范围改造：

- XMPP协议复杂冗余，客户端费流量、费电；
- 开源的XMPP服务器（androidpn选择的是Openfire）单点容量有限，集群方案复杂、不成熟。
基于这些原因，并考虑到大范围改造技术上更不可控，所以笔者所在的团队刚开始用XMPP开源方案，后来完全切到自己实现的技术方案上了。

第二个方面：

Android Push的需求场景，除了消息能够及时地推送到客户端，还有什么其他的基本需求呢？这里试举两个例子：
其一，确保消息能够到达。即是否能有机制确保消息不会丢失，不管什么原因。
其二，向指定的一群人推送消息。anroidpn的基础XMPP IM组件是没有考虑这些的，需要做大量的定制改造。

总结起来，使用androidpn可以简单地做到：把消息推送到客户端。但是，要使其适合开发者需要，并在生产环境上运行，则
可能需要做很多定制开发工作。从笔者与多个开发者交流得到的反馈来看，在生产环境里运行起来问题很多。
